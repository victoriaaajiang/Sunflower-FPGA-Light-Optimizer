const int analogPin = 34; // Pin connected to the battery voltage
const float referenceVoltage = 3.3;
const int resolution = 4096;

void loop() {
  int rawValue = analogRead(analogPin); // Read the ADC value
  float voltage = (rawValue * referenceVoltage) / (resolution - 1); // Convert to voltage

  // Example calculation: Map voltage to battery percentage
  float batteryPercentage = (voltage - 3.0) / (4.2 - 3.0) * 100.0;

  // Print results
  Serial.print("Voltage: ");
  Serial.print(voltage, 2); // Print voltage with 2 decimal places
  Serial.print(" V | Battery: ");
  Serial.print(batteryPercentage, 1); // Print percentage with 1 decimal place
  Serial.println(" %");

  delay(500); // Delay for readability
}